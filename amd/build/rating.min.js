/**
 * JavaScript for rating.
 *
 * @copyright  2020 The Open University
 * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
 */
define("qbehaviour_selfassess/rating",["core/key_codes"],(function(keys){function Rating(questionDiv){let clearButton=questionDiv.querySelector(".self-assessment-rating input.clearrating");clearButton.addEventListener("click",(function(e){e.preventDefault(),clearRating(questionDiv),clearButton.blur()})),clearButton.addEventListener("keydown",(function(e){switch(e.keyCode){case keys.enter:case keys.space:return e.preventDefault(),clearRating(questionDiv),void clearButton.blur();default:return}}));let radios=questionDiv.querySelectorAll(".self-assessment-rating input[type=radio]");function clearRating(questionDiv){questionDiv.querySelectorAll(".self-assessment-rating input[type=radio]").forEach((function(radio,index){0===index?radio.checked=!0:!0===radio.checked&&(radio.checked=!1)}))}questionDiv.querySelectorAll(".self-assessment-rating label").forEach((function(star,index){star.addEventListener("keydown",(function(e){switch(e.keyCode){case keys.enter:case keys.space:return e.preventDefault(),void(radios[index+1].checked=!radios[index+1].checked);default:return}}))}))}return{init:function(questionId){M.util.js_pending("rating-"+questionId),new Rating(document.getElementById(questionId)),M.util.js_complete("rating-"+questionId)}}}));

//# sourceMappingURL=rating.min.js.map